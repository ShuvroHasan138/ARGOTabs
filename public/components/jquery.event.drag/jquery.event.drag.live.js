!function(e){var t=e.event,n=t.special.drag,r=n.add,i=n.teardown;n.noBubble=!1,n.livekey="livedrag",n.add=function(i){r.apply(this,arguments);var o=e.data(this,n.datakey);!o.live&&i.selector&&(o.live=!0,t.add(this,"draginit."+n.livekey,n.delegate))},n.teardown=function(){i.apply(this,arguments);var r=e.data(this,n.datakey)||{};r.live&&(t.remove(this,"draginit."+n.livekey,n.delegate),r.live=!1)},n.delegate=function(r){var i,o=[],a=e.data(this,"events")||{};return e.each(a||[],function(a,s){0===a.indexOf("drag")&&e.each(s||[],function(a,s){i=e(r.target).closest(s.selector,r.currentTarget)[0],i&&(t.add(i,s.origType+"."+n.livekey,s.origHandler||s.handler,s.data),e.inArray(i,o)<0&&o.push(i))})}),o.length?e(o).bind("dragend."+n.livekey,function(){t.remove(this,"."+n.livekey)}):!1}}(jQuery);