window.Rainbow=function(){function e(e){var t,n=e.getAttribute&&e.getAttribute("data-language")||0;if(!n)for(e=e.attributes,t=0;t<e.length;++t)if("data-language"===e[t].nodeName)return e[t].nodeValue;return n}function t(t){var n=e(t)||e(t.parentNode);if(!n){var r=/\blang(?:uage)?-(\w+)/;(t=t.className.match(r)||t.parentNode.className.match(r))&&(n=t[1])}return n}function n(e,t){for(var n in h[v])if(n=parseInt(n,10),(e==n&&t==h[v][n]?0:n>=e&&t>=h[v][n])&&(delete h[v][n],delete p[v][n]),e>=n&&e<h[v][n]||t>n&&t<h[v][n])return!0;return!1}function r(e,t){return'<span class="'+e.replace(/\./g," ")+(f?" "+f:"")+'">'+t+"</span>"}function i(e,t,s,l){if("undefined"==typeof e||null===e)l();else{var c=e.exec(s);if(c){++b,!t.name&&"string"==typeof t.matches[0]&&(t.name=t.matches[0],delete t.matches[0]);var f=c[0],d=c.index,m=c[0].length+d,g=function(){function n(){i(e,t,s,l)}b%100>0?n():setTimeout(n,0)};if(n(d,m))g();else{var y=o(t.matches),$=function(e,n,i){if(e>=n.length)i(f);else{var o=c[n[e]];if(o){var s=t.matches[n[e]],l=s.language,d=s.name&&s.matches?s.matches:s,p=function(t,o,a){var s;s=0;var u;for(u=1;u<n[e];++u)c[u]&&(s+=c[u].length);o=a?r(a,o):o,f=f.substr(0,s)+f.substr(s).replace(t,o),$(++e,n,i)};l?u(o,l,function(e){p(o,e)}):"string"==typeof s?p(o,o,s):a(o,d.length?d:[d],function(e){p(o,e,s.matches?s.name:0)})}else $(++e,n,i)}};$(0,y,function(e){t.name&&(e=r(t.name,e)),p[v]||(p[v]={},h[v]={}),p[v][d]={replace:c[0],"with":e},h[v][d]=m,g()})}}else l()}}function o(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort(function(e,t){return t-e})}function a(e,t,n){function r(t,o){o<t.length?i(t[o].pattern,t[o],e,function(){r(t,++o)}):s(e,function(e){delete p[v],delete h[v],--v,n(e)})}++v,r(t,0)}function s(e,t){function n(e,t,r,i){if(r<t.length){++$;var o=t[r],a=p[v][o],e=e.substr(0,o)+e.substr(o).replace(a.replace,a["with"]),o=function(){n(e,t,++r,i)};$%250>0?o():setTimeout(o,0)}else i(e)}var r=o(p[v]);n(e,r,0,t)}function u(e,t,n){var r=m[t]||[],i=m[y]||[],t=g[t]?r:r.concat(i);a(e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),t,n)}function l(e,n,r){if(n<e.length){var i=e[n],o=t(i);return-1<(" "+i.className+" ").indexOf(" rainbow ")||!o?l(e,++n,r):(o=o.toLowerCase(),i.className+=i.className?" rainbow":"rainbow",u(i.innerHTML,o,function(t){i.innerHTML=t,p={},h={},d&&d(i,o),setTimeout(function(){l(e,++n,r)},0)}))}r&&r()}function c(e,t){var n,e=e&&"function"==typeof e.getElementsByTagName?e:document,r=e.getElementsByTagName("pre"),i=e.getElementsByTagName("code"),o=[],a=[];for(n=0;n<r.length;++n)r[n].getElementsByTagName("code").length?r[n].innerHTML=r[n].innerHTML.replace(/^\s+/,"").replace(/\s+$/,""):o.push(r[n]);for(n=0;n<i.length;++n)a.push(i[n]);l(a.concat(o),0,t)}var f,d,p={},h={},m={},g={},v=0,y=0,b=0,$=0;return{extend:function(e,t,n){1==arguments.length&&(t=e,e=y),g[e]=n,m[e]=t.concat(m[e]||[])},b:function(e){d=e},a:function(e){f=e},color:function(e,t,n){return"string"==typeof e?u(e,t,n):"function"==typeof e?c(0,e):(c(e,t),void 0)}}}(),document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):window.attachEvent("onload",Rainbow.color),Rainbow.onHighlight=Rainbow.b,Rainbow.addClass=Rainbow.a,Rainbow.extend([{matches:{1:[{name:"keyword.operator",pattern:/\=|\+/g},{name:"keyword.dot",pattern:/\./g}],2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:|\+|\.)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]),Rainbow.extend("javascript",[{name:"selector",pattern:/(\s|^)\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|push|getElementById|getElementsByClassName|log|setTimeout|setInterval)(?=\()/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)(?!\*)(.+)(\/)([igm]{0,3})/g},{matches:{1:"storage",3:"entity.function"},pattern:/(var)?(\s|^)(\S*)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"entity.function"},pattern:/(new)\s+(.*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g}]);