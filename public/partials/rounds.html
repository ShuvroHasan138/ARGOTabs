<ul class="nav nav-tabs dont-print"><li class="active"><a href="#teams" data-toggle="tab">Teams</a></li><li><a href="#judges" data-toggle="tab">Judges</a></li><li><a href="#rooms" data-toggle="tab">Rooms</a></li><li><a href="#settings" data-toggle="tab">Settings</a></li></ul><div class="tab-content"><div id="teams" class="tab-pane active"><div id="team-list" ng-show="!round.paired"><div class="control-group dont-print"><div class="btn-group inline-block"><button ng-click="addAllTeams()" class="btn"><i class="fa fa-fw fa-check-square-o"></i> all</button><button ng-click="removeAllTeams()" class="btn"><i class="fa fa-fw fa-square-o"></i> all</button></div> <button ng-click="sortByRank()" class="btn">Sort by pairing rank</button> <button ng-click="pair()" class="btn btn-danger">Pair</button> <div class="inline small-margin">Check teams that are to play this round.</div></div><h3 class="print-only text-center">{{round.getName()}} - Available teams</h3><table editable-table="editable-table" model="round.teams" visible="round.tableOpts.teams" reorders="reorders" id="round-teams-table"><thead><tr><th data-auto-index='5'>#</th><th data-auto-index='4'><sort-arrow model="round.teams" sort-by="o.rounds[round.id].participates" hide-arrows="hide-arrows"><i class="fa fa-fw fa-check-square-o"></i></sort-arrow></th><th data-auto-index='3'><sort-arrow model="round.teams" sort-by="o.name">Team name</sort-arrow></th><th data-auto-index='2'><sort-arrow model="round.teams" sort-by="eliminateNil(o.club.name)">Club</sort-arrow></th></tr></thead><tbody editable-tbody="editable-tbody"><script type="text/html"><td>{{$index + 1}}</td><td><input type="checkbox" ng-model="o.rounds[round.id].participates"/></td><td>{{o.name}}</td><td><span class="muted-{{o.club == null}}">{{nilPlaceholder(o.club, {name:"unaffiliated"}).name}}</span></td></script></tbody></table></div><div id="pairings" ng-show="round.paired" class="printca-{{round.printCAMode}} showranks-{{showRanks}}"><div class="control-group dont-print"><button ng-click="assignJudges()" class="btn">Reassign judges</button> <button ng-click="assignRooms()" class="btn">Reassign rooms</button> <button ng-click="shuffleRooms()" class="btn">Shuffle in rooms</button> <button ng-click="sortBallots()" class="btn">Sort by match rank</button> <div class="inline small-margin">You can manually drag judges and rooms to fine-tune</div></div><h3 class="print-only text-center">{{round.getName()}} - Pairing</h3><div class="row-fluid"><div class="span9 print-full-width"><table editable-table="editable-table" model="round.ballots" visible="round.tableOpts.ballots" table-class="table table-bordered table-hover" row-clicked="editBallot($index)" reorders="reorders" id="round-pairings-table"><thead><tr><th data-auto-index='6'>#</th><th data-auto-index='4'><sort-arrow model="round.ballots" sort-by="namePlaceholder(o.room.name)">Room</sort-arrow></th><th data-auto-index='3'><sort-arrow model="round.ballots" sort-by="namePlaceholder(o.teams[0]).name" class="prop">Prop</sort-arrow></th><th data-auto-index='2'><sort-arrow model="round.ballots" sort-by="namePlaceholder(o.teams[1]).name" class="opp">Opp</sort-arrow></th><th data-auto-index='1'>Judges</th><th data-auto-index='5'>Win</th></tr></thead><tbody editable-tbody="editable-tbody"><script type="text/html"><td>{{$index + 1}}</td><td><span class="notavailable-{{o.room == null}}"> </span><span ng-show="o.room != null" class="judge-box">{{o.room.name}}</span></td><td><span class="muted-{{o.teams[0] == null}}">{{namePlaceholder(o.teams[0],'Bye').name}}</span></td><td><span class="muted-{{o.teams[1] == null}}">{{namePlaceholder(o.teams[1],'Bye').name}}</span></td><td class="compat-{{compatList[$index]}}"><span class="notavailable-{{!o.teams[0] || !o.teams[1]}}"></span><div ng-show="o.teams[0] &amp;&amp; o.teams[1]" class="ballot-{{$index}}"><div class="nowrap inline-block main-judges"><i class="fa fa-gavel judge-icon"></i> <hlist-cell bind="o.judges" extension-element=".ballot-{{$index}} .main-judges" extension-element-last="{{yesNo(o.shadows.length || round.allowShadowsSolved(), &quot;&quot;, &quot;.ballot-&quot; + $index)}}" edit-hidden="true" reorders-always="reorders-always" reorders="!o.locked" userdata="judgeUd(o, false)" drop-group="judge-drop" replace-class="judge-selected" on-start-drag="judgeDragStart(list.model[index])" on-end-drag="judgeDragEnd()" group-test="judgeGroupTest(fromList, toList)" group-replace-test="judgeGroupReplaceTest(fromList, toList)" manual-replace="judgeReplace(fromList, fromIndex, toList, toIndex)" manual-move="judgeMove(fromList, fromIndex, toList, toIndex)" class="judge-list"><span class="valid-{{!showShadowConflicts || isCompatible(o, hlo)}} judge-box"><span class="judge-rank-{{hlo.rank}} judge-rank">{{rankStrings[hlo.rank]}}:&nbsp;</span>{{hlo.name}}</span></hlist-cell></div><div ng-show="o.shadows.length || round.allowShadowsSolved()" class="nowrap inline-block shadow-judges"><i class="fa fa-eye judge-icon"></i> <hlist-cell bind="o.shadows" extension-element=".ballot-{{$index}} .shadow-judges" extension-element-last="{{yesNo(o.shadows.length || round.allowShadowsSolved(), &quot;.ballot-&quot; + $index, &quot;&quot;)}}" edit-hidden="true" reorders-always="reorders-always" reorders="!o.locked" userdata="judgeUd(o, true)" drop-group="judge-drop" replace-class="judge-selected" on-start-drag="judgeDragStart(list.model[index])" on-end-drag="judgeDragEnd()" group-test="judgeGroupTest(fromList, toList)" group-replace-test="judgeGroupReplaceTest(fromList, toList)" manual-replace="judgeReplace(fromList, fromIndex, toList, toIndex)" manual-move="judgeMove(fromList, fromIndex, toList, toIndex)" class="judge-list"><span class="valid-{{!showShadowConflicts || isCompatible(o, hlo)}} judge-box"><span class="judge-rank-{{hlo.rank}} judge-rank">{{rankStrings[hlo.rank]}}:&nbsp;</span>{{hlo.name}}</span></hlist-cell></div></div></td><td class="nowrap"><span class="{{o.stats.classes[0]}}">{{o.stats.scores[0]}} </span><span class="{{o.stats.winClass}}"><i class="fa fa-trophy"></i></span><span class="{{o.stats.classes[1]}}"> {{o.stats.scores[1]}}</span></td></script></tbody></table></div><div class="span3 dont-print"><div class="well settings-group ca-mode"><div><label class="checkbox inline"><input type="checkbox" ng-model="round.caMode"/><span><strong>CA Mode</strong></span></label></div><div ng-show="round.caMode"><div><label class="checkbox inline"><input type="checkbox" ng-model="round.showConflicts"/><span>Show judge conflicts</span></label></div><div><label class="checkbox inline"><input type="checkbox" ng-model="round.showShadowConflicts"/><span>Show shadow conflicts</span></label></div><div><label class="checkbox inline"><input type="checkbox" ng-model="round.showRanks"/><span>Show judge ranks</span></label></div><div><label class="checkbox inline"><input type="checkbox" ng-model="round.printCAMode"/><span>Print all of the above</span></label></div></div></div><div class="well settings-group free-judges"><strong>Free judges</strong><div ng-show="!round.freeJudges.length">All judges have been assigned</div><div ng-show="round.freeJudges.length"><hlist-cell bind="round.freeJudges" extension-element=".well.settings-group.free-judges" extension-element-last="" edit-hidden="true" reorders-always="reorders-always" reorders="true" userdata="judgeUd(null, false)" drop-group="judge-drop" replace-class="judge-selected" on-start-drag="judgeDragStart(list.model[index])" on-end-drag="judgeDragEnd()" group-test="judgeGroupTest(fromList, toList)" group-replace-test="judgeGroupReplaceTest(fromList, toList)" manual-replace="judgeReplace(fromList, fromIndex, toList, toIndex)" manual-move="judgeMove(fromList, fromIndex, toList, toIndex)" class="judge-list"><span class="judge-box"><span class="judge-rank-{{hlo.rank}} judge-rank">{{rankStrings[hlo.rank]}}:&nbsp;</span>{{hlo.name}}</span></hlist-cell></div></div><div class="well settings-group free-rooms"><strong>Free rooms</strong><div ng-show="!round.freeRooms.length">All judges have been assigned</div><div ng-show="round.freeRooms.length"><hlist-cell bind="round.freeRooms" extension-element=".well.settings-group.free-rooms" edit-hidden="true" reorders-always="reorders-always" reorders="true" drop-group="rooms-drop" manual-move="roomMove(fromList, fromIndex, toList, toIndex)" class="judge-list"><span class="room-box">{{hlo.name}}</span></hlist-cell></div></div></div></div></div></div><div id="judges" class="tab-pane"><div class="control-group dont-print"><div class="btn-group inline"><button ng-click="addAllJudges()" class="btn"><i class="fa fa-fw fa-check-square-o"></i> all</button><button ng-click="removeAllJudges()" class="btn"><i class="fa fa-fw fa-square-o"></i> all</button><button ng-click="removeShadows()" class="btn"> <i class="fa fa-fw fa-square-o"></i> shadows</button></div> <div class="inline small-margin">Check judges that are available to judge this round.</div></div><h3 class="print-only text-center">{{round.getName()}} - Available judges</h3><table editable-table="editable-table" model="round.judges" visible="round.tableOpts.judges" reorders="reorders" id="round-judges-table"><thead><tr><th data-auto-index='5'>#</th><th data-auto-index='4'><sort-arrow model="round.judges" sort-by="o.rounds[round.id].participates" hide-arrows="hide-arrows"><i class="fa fa-fw fa-check-square-o"></i></sort-arrow></th><th data-auto-index='2'><sort-arrow model="round.judges" sort-by="o.name">Name</sort-arrow></th><th data-auto-index='1'><sort-arrow model="round.judges" sort-by="eliminateNil(o.club.name)">Club</sort-arrow></th><th data-auto-index='3'><sort-arrow model="round.judges" sort-by="o.rank">Rank</sort-arrow></th></tr></thead><tbody editable-tbody="editable-tbody"><script type="text/html"><td>{{$index + 1}}</td><td><input type="checkbox" ng-disabled="o.rounds[round.id].ballot.locked" ng-model="o.rounds[round.id].participates"/></td><td>{{o.name}}</td><td><span class="muted-{{o.club == null}}">{{nilPlaceholder(o.club, {name:"unaffiliated"}).name}}</span></td><td>{{rankStrings[o.rank]}}</td></script></tbody></table></div><div id="rooms" class="tab-pane"><div class="control-group dont-print"><div class="btn-group inline"><button ng-click="addAllRooms()" class="btn"><i class="fa fa-fw fa-check-square-o"></i> all</button><button ng-click="removeAllRooms()" class="btn"><i class="fa fa-fw fa-square-o"></i> all</button></div> <div class="inline small-margin">Check rooms that are available this round.</div></div><h3 class="print-only text-center">{{round.getName()}} - Available rooms</h3><table editable-table="editable-table" model="round.rooms" visible="round.tableOpts.rooms" reorders="reorders" id="round-rooms-table"><thead><tr><th data-auto-index='5'>#</th><th data-auto-index='4'><sort-arrow model="round.rooms" sort-by="o.rounds[round.id].participates" hide-arrows="hide-arrows"><i class="fa fa-fw fa-check-square-o"></i></sort-arrow></th><th data-auto-index='2'><sort-arrow model="round.rooms" sort-by="o.name">Name</sort-arrow></th></tr></thead><tbody editable-tbody="editable-tbody"><script type="text/html"><td>{{$index + 1}}</td><td><input type="checkbox" ng-model="o.rounds[round.id].participates"/></td><td>{{o.name}}</td></script></tbody></table></div><div id="settings" class="tab-pane"><h3 class="print-only text-center">{{round.getName()}} - Settings</h3><div class="row-fluid"><div class="span6"><div class="well settings-group"><strong>Settings</strong><div><span>Ballots per match:<multi-cell bind="round.ballotsPerMatch" nil-placeholder="{{tournament.ballotsPerMatch}} (inherited)" input-width="120" choices="ballotsPerMatchOptions" choice-name="o"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></span></div><div><span>Allow shadow judges:</span><label class="checkbox inline"><input type="checkbox" tristate-checkbox="round.allowShadows"/><span class="muted-{{round.allowShadows == null}}">{{yesNoInherit(round.allowShadows, "Yes", "No", yesNo(round.tournament.allowShadows, "Yes", "No") + " (inherited)")}}</span></label></div></div><div class="well settings-group"><strong>Calculate pairing rank based on:</strong><div><label class="checkbox"><input type="checkbox" ng-model="round.rankFrom.all"/>All previous rounds</label><label ng-repeat="o in tournament.rounds" ng-show="o!=round &amp;&amp; !round.rankFrom.all" class="checkbox"><input type="checkbox" ng-model="round.rankFrom[o.id]"/>Round {{$index+1}}</label></div></div><div class="well settings-group"><strong>Pairing rank criteria</strong><div><label class="checkbox"><input type="checkbox" ng-model="round.inheritPairRank"/>Inherit from tournament settings</label></div><div ng-show="!round.inheritPairRank"><sorter-criteria bind="round.pairRankSorter"></sorter-criteria></div></div></div><div class="span6"><div class="well settings-group"><strong>Judge assignment rules</strong><div><span>Max. main judges:<multi-cell bind="round.maxMainJudges" nil-placeholder="{{infinityName(tournament.maxMainJudges,infinity,&quot;Unlimited&quot;)}} (inherited)" input-width="170" choices="maxPanelChoices" choice-name="infinityName(o,infinity,&quot;Unlimited&quot;)"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></span></div><div><span>Max. shadow judges:<multi-cell bind="round.maxShadowJudges" nil-placeholder="{{infinityName(tournament.maxShadowJudges,infinity,&quot;Unlimited&quot;)}} (inherited)" input-width="170" choices="maxPanelChoices" choice-name="infinityName(o,infinity,&quot;Unlimited&quot;)"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></span></div><div><span>Max. panel size (mains + shadows):<multi-cell bind="round.maxPanelSize" nil-placeholder="{{infinityName(tournament.maxPanelSize,infinity,&quot;Unlimited&quot;)}} (inherited)" input-width="170" choices="maxPanelChoices" choice-name="infinityName(o,infinity,&quot;Unlimited&quot;)"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></span></div><strong>Main judges:</strong><div><multi-cell bind="round.judgeMainPriority" nil-placeholder="{{priorityChoiceNames[tournament.judgeMainPriority]}} (inherited)" input-width="320" choices="priorityChoices" choice-name="priorityChoiceNames[o]"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></div><div><multi-cell bind="round.judgeMainOrder" nil-placeholder="{{orderChoiceNames[tournament.judgeMainOrder]}} (inherited)" input-width="320" choices="orderChoices" choice-name="orderChoiceNames[o]"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></div><strong>Shadow judges:</strong><div><span>Use idle mains as shadows: </span><label class="checkbox inline"><input type="checkbox" tristate-checkbox="round.judgeShadowReport"/><span class="muted-{{round.judgeShadowReport == null}}">{{yesNoInherit(round.judgeShadowReport, "Yes", "No", yesNo(round.tournament.judgeShadowReport, "Yes", "No") + " (inherited)")}}</span></label></div><div ng-show="round.judgeShadowReportSolved()"><multi-cell bind="round.judgeShadowPriority" nil-placeholder="{{priorityChoiceNames[tournament.judgeShadowPriority]}} (inherited)" input-width="320" choices="priorityChoices" choice-name="priorityChoiceNames[o]"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></div><div><multi-cell bind="round.judgeShadowOrder" nil-placeholder="{{orderChoiceNames[tournament.judgeShadowOrder]}} (inherited)" input-width="320" choices="orderChoices" choice-name="orderChoiceNames[o]"><i class="fa fa-fw fa-edit bottom-line"></i></multi-cell></div></div><div class="well settings-group"><strong>Additional judge assignment rules</strong><div><judge-rules model="round.judgeRules"></judge-rules></div></div></div></div></div></div><style type="text/css">#round-judges-table th:nth-child(1) {
  width: 15px;
}
#round-judges-table th:nth-child(2) {
  width: 10px;
}
#round-judges-table th:nth-child(3) {
  width: 30%;
}
#round-judges-table th:nth-child(5) {
  width: 10%;
}
#round-teams-table th:nth-child(1) {
  width: 15px;
}
#round-teams-table th:nth-child(2) {
  width: 10px;
}
#round-teams-table th:nth-child(3) {
  width: 40%;
}
#round-teams-table th:nth-child(3) {
  width: 40%;
}
#round-pairings-table th:nth-child(1) {
  width: 15px;
}
#round-pairings-table th:nth-child(2) {
  width: 10%;
}
#round-pairings-table th:nth-child(3) {
  width: 20%;
}
#round-pairings-table th:nth-child(4) {
  width: 20%;
}
#round-pairings-table th:nth-child(6) {
  width: 70px;
}
#round-rooms-table th:nth-child(1) {
  width: 15px;
}
#round-rooms-table th:nth-child(2) {
  width: 10px;
}
</style>