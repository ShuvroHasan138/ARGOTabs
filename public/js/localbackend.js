(function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define(["backend"],function(e){var n;return n=function(e){function n(e){this.fName=e,this.loadDate=new Date,this.date=this.modifiedDate()}return t(n,e),n.icon='<i class="icon-file"></i>',n.prototype.modifiedDate=function(){var e;return e=localStorage.getItem(this.fName+".mdate"),null!=e?new Date(parseInt(e.match(/\d+/)[0])):this.loadDate},n.prototype.load=function(e){var t;t=localStorage.getItem(this.fName+".atab"),null==t&&(t=""),this.loadDate=new Date,e(t)},n.prototype.save=function(e,t,n){var r;if(null==n&&(n=!1),!n&&this.modifiedDate().getTime()>this.loadDate.getTime())throw r=new Error("This tournament was modified by an external program since we opened it. Make sure it's not open in another ARGO Tabs window"),r.canForce="Save anyway",r;this.loadDate=new Date,localStorage.setItem(this.fName+".atab",e),localStorage.setItem(this.fName+".mdate",this.loadDate.getTime()),t()},n.prototype["delete"]=function(){return localStorage.removeItem(this.fName+".atab"),localStorage.removeItem(this.fName+".mdate")},n.prototype.rename=function(e){var t=this;return this.load(function(n){return t["delete"](),t.fName=e,t.save(n,function(){},!0)})},n.listFiles=function(e){var t,n,r,i,o;for(n=[],t=i=0,o=localStorage.length;o>=0?o>i:i>o;t=o>=0?++i:--i)r=localStorage.key(t).match(/^(.*)\.atab$/),r&&r[1]&&n.push(r[1]);e(n)},n.prototype.fileName=function(){return this.fName},n}(e)})}).call(this);