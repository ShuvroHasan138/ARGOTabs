(function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};define(["backend"],function(a){var c;return c=function(a){function c(a){this.fName=a,this.loadDate=new Date,this.date=this.modifiedDate()}return b(c,a),c.icon='<i class="fa fa-fw fa-file"></i>',c.prototype.modifiedDate=function(){var a;return a=localStorage.getItem(this.fName+".mdate"),a!=null?new Date(parseInt(a.match(/\d+/)[0])):this.loadDate},c.prototype.load=function(a){var b;b=localStorage.getItem(this.fName+".atab"),b==null&&(b=""),this.loadDate=new Date,a(b)},c.prototype.save=function(a,b,c){var d;c==null&&(c=!1);if(!c&&this.modifiedDate().getTime()>this.loadDate.getTime())throw d=new Error("This tournament was modified by an external program since we opened it. Make sure it's not open in another ARGO Tabs window"),d.canForce="Save anyway",d;this.loadDate=new Date,localStorage.setItem(this.fName+".atab",a),localStorage.setItem(this.fName+".mdate",this.loadDate.getTime()),b()},c.prototype["delete"]=function(){return localStorage.removeItem(this.fName+".atab"),localStorage.removeItem(this.fName+".mdate")},c.prototype.rename=function(a){var b=this;return this.load(function(c){return b["delete"](),b.fName=a,b.save(c,function(){},!0)})},c.listFiles=function(a){var b,c,d,e,f;c=[];for(b=e=0,f=localStorage.length;0<=f?e<f:e>f;b=0<=f?++e:--e)d=localStorage.key(b).match(/^(.*)\.atab$/),d&&d[1]&&c.push(d[1]);a(c)},c.prototype.fileName=function(){return this.fName},c}(a)})}).call(this)