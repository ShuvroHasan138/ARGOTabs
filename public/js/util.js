(function(){define(function(){var Util;return Util=function(){function Util(){}return Util.deepCopy=function(v,exceptions){var aux,caux,exp,vv,_i,_j,_len,_len1;for(null==exceptions&&(exceptions=[]),aux={},_i=0,_len=exceptions.length;_len>_i;_i++)exp=exceptions[_i],aux[exp]=eval("v."+exp),eval("v."+exp+"=null");for(vv=JSON.parse(JSON.stringify(v)),_j=0,_len1=exceptions.length;_len1>_j;_j++)exp=exceptions[_j],caux=aux[exp],eval("v."+exp+"=caux"),eval("vv."+exp+"=caux");return vv},Util.unpackCycles=function(t,e){var n,r,o,i;for(n=o=0,i=t.length;i>o;n=++o)r=t[n],"number"==typeof r&&(t[n]=e[r])},Util.unpackCycle=function(t,e){if("number"==typeof t)try{return e[t]}catch(n){return null}return null},Util.packCycle=function(t,e){return e.indexOf(t)},Util.packCycles=function(t,e){var n,r,o,i;for(n=[],o=0,i=t.length;i>o;o++)r=t[o],n.push(e.indexOf(r));return n},Util.arrayRemove=function(t,e){var n;n=t.indexOf(e),-1!==n&&t.splice(n,1)},Util.getObjectClass=function(t){var e;return t&&t.constructor&&t.constructor.toString&&(e=t.constructor.toString().match(/function\s*(\w+)/),e&&2===e.length)?e[1]:void 0},Util.getClass=function(t){var e;return t&&t.toString&&(e=t.toString().match(/function\s*(\w+)/),e&&2===e.length)?e[1]:void 0},Util.copyObject=function(t,e){var n,r,o,i,s;null==e&&(e=[]),e.push("$$hashKey"),r={};for(n in t)o=t[n],r[n]=o;for(i=0,s=e.length;s>i;i++)n=e[i],r[n]=void 0;return r},Util.safeApply=function(t,e){t.$$phase||t.$root.$$phase?e():t.$apply(e)},Util.decimalsOf=function(t,e){var n,r,o;for(null==e&&(e=2),o=t.toFixed(e),r=o.length,n=e;r&&n&&"0"===o[r-1];)n--,r--;return n},Util.installScopeUtils=function(t){t.yesNoInherit=function(t,e,n,r){return null===t?r:t?e:n},t.yesNo=function(t,e,n){return t?e:n},t.parseInt=function(t){return""===t?0:parseInt(t)},t.parseFloat=function(t){return""===t?0:parseFloat(t)},t.truncFloat=function(t,e){var n;return n=t.toFixed(e),-1!==n.indexOf(".")?n.replace(/\.?0*$/,""):n},t.toFixed=function(t,e){return t.toFixed(e)},t.validateMinMax=function(t,e,n){return t>=e&&n>=t},t.eliminateNil=function(t){return null==t?"":t},t.namePlaceholder=function(t,e){return null==e&&(e=""),null==t?{name:e}:t},t.nilPlaceholder=function(t,e){return null==t?e:t}},Util.focusableElement=function(t,e){var n,r,o,i,s,a;for(null==e&&(e=!0),o=null,r=e?1000001:0,i=function(t,n){var s,a;if("none"!==$(n).css("display")&&"hidden"!==$(n).css("visibility"))return a=parseInt(n.getAttribute("tabindex")),isNaN(a)&&(s=_.contains(["INPUT","TEXTAREA","OBJECT","BUTTON"],n.tagName),s=s||_.contains(["A","AREA"],n.tagName)&&n[0].getAttribute("href"),a=s?0:-1),e&&0>=a&&(a=1e6-a),(e?r>a:a>=r)&&(r=a,o=n),$(n).children().each(i)},s=0,a=t.length;a>s;s++)n=t[s],i(0,n);return o},Util}()})}).call(this);