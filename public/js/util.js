(function(){define(function(){var Util;return Util=function(){function Util(){}return Util.deepCopy=function(v,exceptions){var aux,caux,exp,vv,_i,_j,_len,_len1;exceptions==null&&(exceptions=[]),aux={};for(_i=0,_len=exceptions.length;_i<_len;_i++)exp=exceptions[_i],aux[exp]=eval("v."+exp),eval("v."+exp+"=null");vv=JSON.parse(JSON.stringify(v));for(_j=0,_len1=exceptions.length;_j<_len1;_j++)exp=exceptions[_j],caux=aux[exp],eval("v."+exp+"=caux"),eval("vv."+exp+"=caux");return vv},Util.unpackCycles=function(a,b){var c,d,e,f;for(c=e=0,f=a.length;e<f;c=++e)d=a[c],typeof d=="number"&&(a[c]=b[d])},Util.unpackCycle=function(a,b){if(typeof a=="number")try{return b[a]}catch(c){return null}return null},Util.packCycle=function(a,b){return b.indexOf(a)},Util.packCycles=function(a,b){var c,d,e,f;c=[];for(e=0,f=a.length;e<f;e++)d=a[e],c.push(b.indexOf(d));return c},Util.arrayRemove=function(a,b){var c;c=a.indexOf(b),c!==-1&&a.splice(c,1)},Util.getObjectClass=function(a){var b;if(a&&a.constructor&&a.constructor.toString){b=a.constructor.toString().match(/function\s*(\w+)/);if(b&&b.length===2)return b[1]}return void 0},Util.getClass=function(a){var b;if(a&&a.toString){b=a.toString().match(/function\s*(\w+)/);if(b&&b.length===2)return b[1]}return void 0},Util.copyObject=function(a,b){var c,d,e,f,g;b==null&&(b=[]),b.push("$$hashKey"),d={};for(c in a)e=a[c],d[c]=e;for(f=0,g=b.length;f<g;f++)c=b[f],d[c]=void 0;return d},Util.safeApply=function(a,b){a.$$phase||a.$root.$$phase?b():a.$apply(b)},Util.decimalsOf=function(a,b){var c,d,e;b==null&&(b=2),e=a.toFixed(b),d=e.length,c=b;while(d&&c&&e[d-1]==="0")c--,d--;return c},Util.installScopeUtils=function(a){a.yesNoInherit=function(a,b,c,d){return a===null?d:a?b:c},a.yesNo=function(a,b,c){return a?b:c},a.parseInt=function(a){return a===""?0:parseInt(a)},a.parseFloat=function(a){return a===""?0:parseFloat(a)},a.truncFloat=function(a,b){var c;return c=a.toFixed(b),c.indexOf(".")!==-1?c.replace(/\.?0*$/,""):c},a.toFixed=function(a,b){return a.toFixed(b)},a.validateMinMax=function(a,b,c){return b<=a&&a<=c},a.eliminateNil=function(a){return a==null?"":a},a.namePlaceholder=function(a,b){return b==null&&(b=""),a==null?{name:b}:a},a.nilPlaceholder=function(a,b){return a==null?b:a}},Util.focusableElement=function(a,b){var c,d,e,f,g,h;b==null&&(b=!0),e=null,d=b?1000001:0,f=function(a,c){var g,h;if($(c).css("display")==="none"||$(c).css("visibility")==="hidden")return;h=parseInt(c.getAttribute("tabindex")),isNaN(h)&&(g=_.contains(["INPUT","TEXTAREA","OBJECT","BUTTON"],c.tagName),g=g||_.contains(["A","AREA"],c.tagName)&&c[0].getAttribute("href"),h=g?0:-1),b&&h<=0&&(h=1e6-h);if(b?h<d:h>=d)d=h,e=c;return $(c).children().each(f)};for(g=0,h=a.length;g<h;g++)c=a[g],f(0,c);return e},Util}()})}).call(this)