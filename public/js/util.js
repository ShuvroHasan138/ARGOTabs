(function(){define(function(){var Util;return Util=function(){function Util(){}return Util.deepCopy=function(v,exceptions){var aux,caux,exp,vv,_i,_j,_len,_len1;for(null==exceptions&&(exceptions=[]),aux={},_i=0,_len=exceptions.length;_len>_i;_i++)exp=exceptions[_i],aux[exp]=eval("v."+exp),eval("v."+exp+"=null");for(vv=JSON.parse(JSON.stringify(v)),_j=0,_len1=exceptions.length;_len1>_j;_j++)exp=exceptions[_j],caux=aux[exp],eval("v."+exp+"=caux"),eval("vv."+exp+"=caux");return vv},Util.unpackCycles=function(t,e){var n,r,o,i;for(n=o=0,i=t.length;i>o;n=++o)r=t[n],"number"==typeof r&&(t[n]=e[r])},Util.unpackCycle=function(t,e){if("number"==typeof t)try{return e[t]}catch(n){return null}return null},Util.packCycle=function(t,e){return e.indexOf(t)},Util.packCycles=function(t,e){var n,r,o,i;for(n=[],o=0,i=t.length;i>o;o++)r=t[o],n.push(e.indexOf(r));return n},Util.getObjectClass=function(t){var e;return t&&t.constructor&&t.constructor.toString&&(e=t.constructor.toString().match(/function\s*(\w+)/),e&&2===e.length)?e[1]:void 0},Util.getClass=function(t){var e;return t&&t.toString&&(e=t.toString().match(/function\s*(\w+)/),e&&2===e.length)?e[1]:void 0},Util.copyObject=function(t,e){var n,r,o,i,a;null==e&&(e=[]),e.push("$$hashKey"),r={};for(n in t)o=t[n],r[n]=o;for(i=0,a=e.length;a>i;i++)n=e[i],r[n]=void 0;return r},Util.safeApply=function(t,e){t.$$phase||t.$root.$$phase?e():t.$apply(e)},Util.focusableElement=function(t,e){var n,r,o,i,a,s;for(null==e&&(e=!0),o=null,r=e?1000001:0,i=function(t,n){var a,s;if("none"!==$(n).css("display")&&"hidden"!==$(n).css("visibility"))return s=parseInt(n.getAttribute("tabindex")),isNaN(s)&&(a=_.contains(["INPUT","TEXTAREA","OBJECT","BUTTON"],n.tagName),a=a||_.contains(["A","AREA"],n.tagName)&&n[0].getAttribute("href"),s=a?0:-1),e&&0>=s&&(s=1e6-s),(e?r>s:s>=r)&&(r=s,o=n),$(n).children().each(i)},a=0,s=t.length;s>a;a++)n=t[a],i(0,n);return o},Util}()})}).call(this);