(function(){define(["jquery"],function(a){var b;return b=function(){function b(b){var c,d,e,f,g,h,i,j;this.opts=b,this.opts==null&&(this.opts={}),f=this.opts,f.buttons==null&&(f.buttons=[]),f.cancelButtonIndex==null&&(f.cancelButtonIndex=-1),f.primaryButtonIndex==null&&(f.primaryButtonIndex=f.buttons.length-1),f.title==null&&(f.title="Alert"),f.closeable==null&&(f.closeable=!0),f.cssClass==null&&(f.cssClass=""),f.animated==null&&(f.animated=!0),f.tabIndex==null&&(f.tabIndex=[]),f.id==null&&(f.id="modalid"+Math.round(Math.random()*1e4)),f.animated&&(f.cssClass="fade "+f.cssClass),d=a(templates.modal({o:f})),d.find(".modal-title").append(f.title),e=d.find(".modal-body"),f.message&&e.append("<p>"+f.message+"</p>"),f.htmlMessage&&e.append(f.htmlMessage),a("body").append(d),c=d.find(".modal-footer a.btn"),c.keypress(function(b){if(b.which===13||b.which===32)return a(b.currentTarget).click()}),j=f.tabIndex;for(h=0,i=j.length;h<i;h++){g=j[h];if(g>=c.length)continue;a(c[g]).attr("tabindex",0)}d.find(".modal-button").click(function(){var a,b;a=parseInt(this.dataset.count),b=f.buttons[a];if(f.onClick)return f.onClick(d,a,b)}),d.find(".modal-cancel").click(function(){return f.onCancel&&f.onCancel(d),d.modal("hide")}),d.on("hidden",function(){d.remove();if(f.onDismissed)return f.onDismissed(d)}),d.on("hide",function(){if(f.onDismiss)return f.onDismiss(d)}),d.on("shown",function(){if(f.onShown)return f.onShown(d)}),d.on("show",function(){if(f.onShow)return f.onShow(d)}),d.modal(f.closeable?null:{keyboard:!1,backdrop:"static"})}return b}()})}).call(this)