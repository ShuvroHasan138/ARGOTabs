(function(){define(["jquery"],function(a){var b;return b=function(){function b(b){var c,d,e;this.opts=b,this.opts==null&&(this.opts={}),e=this.opts,e.buttons==null&&(e.buttons=[]),e.cancelButtonIndex==null&&(e.cancelButtonIndex=-1),e.primaryButtonIndex==null&&(e.primaryButtonIndex=e.buttons.length-1),e.title==null&&(e.title="Alert"),e.closeable==null&&(e.closeable=!0),e.cssClass==null&&(e.cssClass=""),e.animated==null&&(e.animated=!0),e.id==null&&(e.id="modalid"+Math.round(Math.random()*1e4)),e.animated&&(e.cssClass="fade "+e.cssClass),c=a(templates.modal({o:e})),c.find(".modal-title").append(e.title),d=c.find(".modal-body"),e.message&&d.append("<p>"+e.message+"</p>"),e.htmlMessage&&d.append(e.htmlMessage),a("body").append(c),c.find(".modal-button").click(function(){var a,b;a=parseInt(this.dataset.count),b=e.buttons[a];if(e.onClick)return e.onClick(c,a,b)}),c.find(".modal-cancel").click(function(){return e.onCancel&&e.onCancel(c),c.modal("hide")}),c.on("hidden",function(){c.remove();if(e.onDismissed)return e.onDismissed(c)}),c.on("hide",function(){if(e.onDismiss)return e.onDismiss(c)}),c.on("shown",function(){if(e.onShown)return e.onShown(c)}),c.on("show",function(){if(e.onShow)return e.onShow(c)}),c.modal(e.closeable?null:{keyboard:!1,backdrop:"static"})}return b}()})}).call(this)