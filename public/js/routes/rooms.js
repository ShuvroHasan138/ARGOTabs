(function(){define(["room"],function(a){return function(b,c){return c.when("/rooms",{templateUrl:"partials/rooms.html",controller:["$scope",function(c){return c.addRoom=function(){var c,d;return d=b.tournament,c=new a(d),d.rooms.push(c)},c.removeRoom=function(a){var c;return c=b.tournament.rooms,c[a].destroy(),c.splice(a,1)},c.canRemoveRoom=function(a){var c,d,e,f,g;g=b.tournament.rounds;for(e=0,f=g.length;e<f;e++){d=g[e],c=a.rounds[d.id];if(c!=null&&c.ballot!=null)return!1}return!0}}]})}})}).call(this)